<div class="well text-center col-md-4 col-md-offset-4" style="padding:0; color: #009d27">
   <h1>Editer les Questions</h1>
</div >
<div class="container col-md-12">
	<div>
		<div class="text-center well  col-md-4 col-md-offset-4">
			<h3 style="margin-top: -5px">Selectionner un Thème</h3>
			<select class="form-control" ng-model="theme_filter" ng-options="qz.id_theme as qz.name_theme for qz in themes_filter">
				<option value=''>Selectionner un thème</option>
			</select>
		</div>
		<div ng-show="infos" class="alert alert-success col-md-6 col-md-offset-3" role="alert">La question : <b>"{{updated_question_value}}"</b>, a bien été modifiée. </div>

		<div class="panel panel-default col-md-12" style="padding:0" ng-show="theme_filter != undefined">
		<table class="table table-striped table-bordered text-center col-md-12">
			<thead style="background-color: #fdf9eb; color: #2f2f2f;">
				<tr>
					<td><h4>Ajouté par</h4></td>
					<td><h4>Question</h4></td>
					<td><h4>Thème</h4></td>
					<td><h4>Bonne Reponse</h4></td>
					<td><h4>Mauvaise Reponse</h4></td>
					<td><h4>Mauvaise Reponse</h4></td>
					<td><h4>Mauvaise Reponse</h4></td>
					<td></td>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="question in questions | filter:{theme_id: theme_filter}: theme_filter != '' "  ng-init="updated_question = question">
					<td><br/>{{updated_question.pseudo}}</textarea></td>
					<td onchange="this.className = 'form-group has-success'"><textarea onchange="this.style.backgroundColor = '#e6ffe2'" class="form-control" type="textarea" ng-model="updated_question.value_question" rows="4" style="resize: none;"></textarea></td>
					<td style="width: 150px" onchange="this.className = 'form-group has-success'">
						<select style="margin-top: 30px;" onchange="this.style.backgroundColor = '#e6ffe2'"class="form-control" ng-model="updated_question.theme_id">
							<option ng-repeat="theme in themes" ng-value="theme.id_theme" ng-selected="updated_question.theme_id == theme.id_theme">{{theme.name_theme}}</option>
						</select>
					</td>
					<td onchange="this.className = 'form-group has-success'"><textarea onchange="this.style.backgroundColor = '#e6ffe2'"class="form-control" type="text"  ng-model="updated_question.good_rep" rows="4" style="resize: none;"></textarea></td>
					<td onchange="this.className = 'form-group has-success'"><textarea onchange="this.style.backgroundColor = '#e6ffe2'" class="form-control" type="text"  ng-model="updated_question.bad_rep1" rows="4" style="resize: none;"></textarea></td>
					<td onchange="this.className = 'form-group has-success'"><textarea onchange="this.style.backgroundColor = '#e6ffe2'" class="form-control" type="text"  ng-model="updated_question.bad_rep2" rows="4" style="resize: none;"></textarea></td>
					<td onchange="this.className = 'form-group has-success'"><textarea onchange="this.style.backgroundColor = '#e6ffe2'" class="form-control" type="text"  ng-model="updated_question.bad_rep3" rows="4" style="resize: none;"></textarea></td>
					<td>
						<button style="margin-top: 10px;" type="button" class="btn btn-success row" ng-click="validation(updated_question)" style="margin:5px">Sauver</button>
						<br/>
						<button type="button" class="btn btn-danger" data-toggle="modal" data-target="#dialogTestDialog{{$index}}" style="margin: 5px">Supprimer</button>
						<div class="modal fade" id="dialogTestDialog{{$index}}" tabindex="-1" role="dialog" aria-labelledby="executionOptionLabel" aria-hidden="true">
                    		<div class="modal-dialog" >
                    	   		<div class="modal-content text-left" style="background-color: #fbf2d9; padding: 10px">
                    	   			<h3>Voulez vous supprimer la question :<br/> <b>{{updated_question.value_question}}</b> ?</h3>
										<button type="button" class="btn btn-danger" ng-click="delete_question(updated_question);"><span class="glyphicon glyphicon-trash"></span>&nbspSupprimer</button>
										<button type="button" class="btn btn-default" data-dismiss="modal">Annuler</button>
									</div>                                 
                    	   	    </div>
                    	   	</div>
                    	</div>
					</td>
				</tr>
			</tbody>
		</table>
		</div>
	</div>
</div>